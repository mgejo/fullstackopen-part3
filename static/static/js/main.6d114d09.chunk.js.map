{"version":3,"sources":["components/Persons.js","components/PersonForm.js","components/Filter.js","services/persons.js","components/Message.js","App.js","index.js"],"names":["Persons","persons","delHandler","map","person","name","number","onClick","id","PersonForm","props","onSubmit","addEntry","value","newName","onChange","event","setNewName","target","newNumber","setNewNumber","type","Filter","filter","applyFilter","baseUrl","personsService","getAll","axios","get","then","response","data","create","newObject","post","delete","update","put","Message","message","text","msgClass","className","App","useState","setPersons","filteredPersons","setFilteredPersons","setFilter","setMessage","useEffect","displayMessage","setTimeout","lower_filter","toLowerCase","filtered_persons","includes","formProps","preventDefault","find","window","confirm","newPerson","newPersons","catch","error","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6d114d09.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Persons = ({ persons, delHandler }) =>\r\n  persons.map((person) => {\r\n    return (\r\n      <p key={person.id}>\r\n        {person.name} {person.number}{\" \"}\r\n        <button onClick={() => delHandler(person)}>Delete</button>\r\n      </p>\r\n    );\r\n  });\r\n\r\nexport default Persons;\r\n","import React from 'react'\r\n\r\nconst PersonForm = ({props}) =>(\r\n    <form onSubmit={props.addEntry}>\r\n        <div>name: <input value={props.newName} onChange={event => props.setNewName(event.target.value)}/></div>\r\n        <div>number: <input value={props.newNumber} onChange={event => props.setNewNumber(event.target.value)}/></div>\r\n        <div><button type=\"submit\">add</button></div>\r\n    </form>\r\n)\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Filter = ({filter, applyFilter}) =>{\r\n\r\n    return(\r\n    <div> filter shown with <input value={filter} onChange={applyFilter} /> </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import axios from \"axios\";\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst create = (newObject) => {\r\n  const request = axios.post(baseUrl, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst deletePerson = (id) => {\r\n  return axios.delete(`${baseUrl}/${id}`);\r\n};\r\n\r\nconst update = (person) => {\r\n  const request = axios.put(`${baseUrl}/${person.id}`, person);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst personsService = {\r\n  getAll,\r\n  create,\r\n  delete: deletePerson,\r\n  update,\r\n};\r\n\r\nexport default personsService;\r\n","import React from \"react\";\r\nimport \"./Message.css\";\r\n\r\nconst Message = ({ message }) => {\r\n  if (message === null) {\r\n    return null;\r\n  }\r\n  const { text, msgClass } = message;\r\n  return <div className={\"message \" + msgClass}>{text}</div>;\r\n};\r\n\r\nexport default Message;\r\n","import React, { useState, useEffect } from \"react\";\nimport Persons from \"./components/Persons\";\nimport PersonForm from \"./components/PersonForm\";\nimport Filter from \"./components/Filter\";\nimport personsService from \"./services/persons\";\nimport Message from \"./components/Message\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([\n    { name: \"Arto Hellas\", number: \"23415\", id: 1 },\n  ]);\n\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filteredPersons, setFilteredPersons] = useState(persons);\n  const [filter, setFilter] = useState(\"\");\n  const [message, setMessage] = useState(null);\n  useEffect(() => {\n    personsService.getAll().then((persons) => {\n      setPersons(persons);\n      setFilteredPersons(persons);\n    });\n  }, []);\n\n  const addEntry = (event) => {\n    event.preventDefault();\n    const person = persons.find((person) => person.name === newName);\n    if (person) {\n      const result = window.confirm(`You sure you want to update ${newName}?`);\n      if (!result) {\n        return;\n      }\n      personsService\n        .update({ ...person, number: newNumber })\n        .then((newPerson) => {\n          const newPersons = persons.map((person) =>\n            person.id === newPerson.id ? newPerson : person\n          );\n          setPersons(newPersons);\n          applyFilter(filter, newPersons);\n          displayMessage(`${person.name} phone updated`, \"success\");\n        })\n        .catch((error) => {\n          displayMessage(error.response.data.error, \"error\");\n        });\n    }\n    if (!person) {\n      personsService\n        .create({ name: newName, number: newNumber })\n        .then((newPerson) => {\n          const newPersons = persons.concat(newPerson);\n          setPersons(newPersons);\n          applyFilter(filter, newPersons);\n          displayMessage(`${newName} phone added`, \"success\");\n        })\n        .catch((error) => displayMessage(error.response.data.error, \"error\"));\n    }\n    setNewName(\"\");\n    setNewNumber(\"\");\n  };\n\n  const displayMessage = (text, msgClass) => {\n    setMessage({ text, msgClass });\n    setTimeout(() => {\n      setMessage(null);\n    }, 5000);\n  };\n\n  const filterHandler = (event) => {\n    const filter = event.target.value;\n    setFilter(filter);\n    applyFilter(filter, persons);\n  };\n\n  const applyFilter = (filter, persons) => {\n    if (filter === \"\") {\n      setFilteredPersons(persons);\n      return;\n    }\n    const lower_filter = filter.toLowerCase();\n    const filtered_persons = persons.filter((person) =>\n      person.name.toLowerCase().includes(lower_filter)\n    );\n    setFilteredPersons(filtered_persons);\n  };\n\n  const formProps = {\n    addEntry: addEntry,\n    newName: newName,\n    newNumber: newNumber,\n    setNewName: setNewName,\n    setNewNumber: setNewNumber,\n  };\n\n  const delHandler = (person) => {\n    const result = window.confirm(\n      `You sure you want to delete ${person.name}?`\n    );\n    if (!result) {\n      return;\n    }\n    const id = person.id;\n    personsService.delete(id);\n    const newPersons = persons.filter((person) => person.id !== id);\n    setPersons(newPersons);\n    setFilteredPersons(newPersons);\n  };\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Message message={message} />\n      <Filter filter={filter} applyFilter={filterHandler} />\n      <PersonForm props={formProps} />\n\n      <h2>Numbers</h2>\n      <Persons persons={filteredPersons} delHandler={delHandler} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}