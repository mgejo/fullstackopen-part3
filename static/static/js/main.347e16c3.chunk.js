(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{21:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(1),a=n.n(c),u=n(15),i=n.n(u),o=(n(21),n(6)),s=n(3),d=function(e){var t=e.persons,n=e.delHandler;return t.map((function(e){return Object(r.jsxs)("p",{children:[e.name," ",e.number," ",Object(r.jsx)("button",{onClick:function(){return n(e)},children:"Delete"})]},e.id)}))},l=function(e){var t=e.props;return Object(r.jsxs)("form",{onSubmit:t.addEntry,children:[Object(r.jsxs)("div",{children:["name: ",Object(r.jsx)("input",{value:t.newName,onChange:function(e){return t.setNewName(e.target.value)}})]}),Object(r.jsxs)("div",{children:["number: ",Object(r.jsx)("input",{value:t.newNumber,onChange:function(e){return t.setNewNumber(e.target.value)}})]}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{type:"submit",children:"add"})})]})},j=function(e){var t=e.filter,n=e.applyFilter;return Object(r.jsxs)("div",{children:[" filter shown with ",Object(r.jsx)("input",{value:t,onChange:n})," "]})},b=n(4),f=n.n(b),m="/api/persons",h={getAll:function(){return f.a.get(m).then((function(e){return e.data}))},create:function(e){return f.a.post(m,e).then((function(e){return e.data}))},delete:function(e){return f.a.delete("".concat(m,"/").concat(e))},update:function(e){return f.a.put("".concat(m,"/").concat(e.id),e).then((function(e){return e.data}))}},O=(n(40),function(e){var t=e.message;if(null===t)return null;var n=t.text,c=t.msgClass;return Object(r.jsx)("div",{className:"message "+c,children:n})}),p=function(){var e=Object(c.useState)([{name:"Arto Hellas",number:"23415",id:1}]),t=Object(s.a)(e,2),n=t[0],a=t[1],u=Object(c.useState)(""),i=Object(s.a)(u,2),b=i[0],f=i[1],m=Object(c.useState)(""),p=Object(s.a)(m,2),v=p[0],x=p[1],w=Object(c.useState)(n),g=Object(s.a)(w,2),N=g[0],y=g[1],C=Object(c.useState)(""),S=Object(s.a)(C,2),k=S[0],E=S[1],A=Object(c.useState)(null),H=Object(s.a)(A,2),D=H[0],F=H[1];Object(c.useEffect)((function(){h.getAll().then((function(e){a(e),y(e)}))}),[]);var J=function(e,t){F({text:e,msgClass:t}),setTimeout((function(){F(null)}),5e3)},L=function(e,t){if(""!==e){var n=e.toLowerCase(),r=t.filter((function(e){return e.name.toLowerCase().includes(n)}));y(r)}else y(t)},Y={addEntry:function(e){e.preventDefault();var t=n.find((function(e){return e.name===b}));if(t){if(!window.confirm("You sure you want to update ".concat(b,"?")))return;h.update(Object(o.a)(Object(o.a)({},t),{},{number:v})).then((function(e){var r=n.map((function(t){return t.id===e.id?e:t}));a(r),L(k,r),J("".concat(t.name," phone updated"),"success")})).catch((function(e){J("".concat(t.name," has been removed"),"error");var r=n.filter((function(e){return e.id!==t.id}));a(r),L(k,r)}))}t||h.create({name:b,number:v}).then((function(e){var t=n.concat(e);a(t),L(k,t),J("".concat(b," phone added"),"success")})),f(""),x("")},newName:b,newNumber:v,setNewName:f,setNewNumber:x};return Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"Phonebook"}),Object(r.jsx)(O,{message:D}),Object(r.jsx)(j,{filter:k,applyFilter:function(e){var t=e.target.value;E(t),L(t,n)}}),Object(r.jsx)(l,{props:Y}),Object(r.jsx)("h2",{children:"Numbers"}),Object(r.jsx)(d,{persons:N,delHandler:function(e){if(window.confirm("You sure you want to delete ".concat(e.name,"?"))){var t=e.id;h.delete(t);var r=n.filter((function(e){return e.id!==t}));a(r),y(r)}}})]})};i.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(p,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.347e16c3.chunk.js.map